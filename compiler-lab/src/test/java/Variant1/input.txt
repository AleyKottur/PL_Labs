// Пользовательский тип - структура или класс
// В грамматике нет явного определения структуры,
// поэтому используем 'ComplexType' как custom typeRef
ComplexType MyStruct;

// Определение функции, вычисляющей что-то сложное
int processArray(int[] data, int size, MyStruct config) {
    // Объявление и инициализация переменных
    int i = 0;
    int sum = 0;
    bool isEvenSize = (size % 2 == 0); // бинарный оператор (%)
    
    // Цикл while
    while (i < size) {
        // Блок кода для цикла
        {
            // Условный оператор if-else
            if (isEvenSize) {
                // Выражение с бинарными операторами и литералами
                sum = sum + (data[i] * 2); // индексатор, бинарные операторы
            } else {
                // Если элемент массива отрицательный
                if (data[i] < 0) {
                    sum = sum - (-data[i]); // унарный оператор, скобки
                } else {
                    sum = sum + data[i];
                }
            }
            
            // Вызов внешней функции (предположим, что она существует)
            // и присваивание (неявно в грамматике через binOp, 
            // но для простоты используем его в выражении)
            if (i == 10) {
                // Пример вызова функции, передающей литералы и переменные
                bool result = checkLimit(sum, 0xFF, true); 
                if (result) {
                    break; // Оператор break
                }
            }
            
            i = i + 1; // Увеличение счетчика
        }
    }
    
    // Выражение, которое возвращает результат
    sum;
}

// Определение функции-заглушки (для соответствия грамматике)
bool checkLimit(int val, hex limit, bool flag);